var blue="#3BA2FD",red="#FF2424",map,changeRoute,tripObj,markersOnMap,appState,cost=3,streetParkingOption,appStep=1,parkingData,parkingDestroyed=!1,routeShapes={choice:"none",scootOne:{walkStart:[[-122.461998,37.763427],[-122.462037,37.764007],[-122.462052,37.764225],[-122.462052,37.764244],[-122.460976,37.764286],[-122.460663,37.764301],[-122.460419,37.764312]],rideToGarage:[[-122.460419,37.764312],[-122.460663,37.764301],[-122.460976,37.764286],[-122.460976,37.764301],[-122.461045,37.765216],[-122.461106,37.76612],[-122.460923,37.766128],[-122.460412,37.766147],[-122.460274,37.766178],[-122.460206,37.766193],[-122.460137,37.766212],[-122.460068,37.766239],[-122.46,37.766273],[-122.459946,37.766304],[-122.459878,37.766349],[-122.459786,37.766429],[-122.459725,37.766475],[-122.459672,37.766529],[-122.45961,37.766624],[-122.459275,37.766883],[-122.459229,37.766925],[-122.459168,37.766967],[-122.459107,37.767009],[-122.459046,37.767047],[-122.458985,37.767059],[-122.458947,37.76707],[-122.458893,37.767089],[-122.458817,37.76712],[-122.458741,37.767147],[-122.458687,37.767166],[-122.458611,37.767189],[-122.458565,37.767208],[-122.458413,37.767253],[-122.458313,37.767288],[-122.458123,37.767372],[-122.456406,37.767875],[-122.455834,37.768047],[-122.455651,37.768074],[-122.455514,37.768108],[-122.455208,37.768199],[-122.455163,37.768215],[-122.455109,37.768238],[-122.455063,37.768268],[-122.45501,37.768321],[-122.454964,37.768371],[-122.454934,37.768428],[-122.454903,37.768486],[-122.454888,37.76855],[-122.45488,37.768611],[-122.454873,37.768669],[-122.454873,37.76873],[-122.454873,37.768795],[-122.454888,37.768882],[-122.45488,37.768947],[-122.45488,37.768993],[-122.454888,37.769039],[-122.454888,37.769088],[-122.454903,37.769157],[-122.454918,37.769218],[-122.454934,37.769287],[-122.454957,37.769355],[-122.454979,37.769424],[-122.45501,37.769496],[-122.455048,37.76958],[-122.455094,37.769672],[-122.455292,37.770053],[-122.455323,37.770118],[-122.455353,37.770191],[-122.455384,37.770263],[-122.455414,37.770336],[-122.455407,37.770416],[-122.455399,37.770469],[-122.455384,37.770526],[-122.455361,37.770576],[-122.455338,37.770622],[-122.455315,37.770671],[-122.455285,37.770717],[-122.455246,37.770759],[-122.455201,37.770805],[-122.455155,37.770843],[-122.455094,37.770885],[-122.455025,37.770927],[-122.454957,37.770965],[-122.454873,37.771011],[-122.454758,37.771064],[-122.454117,37.771327],[-122.453995,37.771377],[-122.453942,37.771392],[-122.453896,37.771404],[-122.45385,37.771415],[-122.453766,37.771427],[-122.453682,37.77143],[-122.453599,37.77143],[-122.453499,37.771423],[-122.4534,37.771411],[-122.452652,37.771286],[-122.452553,37.77127],[-122.452462,37.771263],[-122.452355,37.771259],[-122.452263,37.771263],[-122.452172,37.771274],[-122.450707,37.771461],[-122.450623,37.771472],[-122.450524,37.771484],[-122.450173,37.77153],[-122.448975,37.771682],[-122.448884,37.771694],[-122.447419,37.771881],[-122.447335,37.771892],[-122.447243,37.771903],[-122.446541,37.771991],[-122.446305,37.772022],[-122.445878,37.772075],[-122.44574,37.772094],[-122.445611,37.772109],[-122.444039,37.772312],[-122.443985,37.772315],[-122.442406,37.772518],[-122.442307,37.772529],[-122.441529,37.772628],[-122.440873,37.772712],[-122.440751,37.772724],[-122.440606,37.772735],[-122.43911,37.772926],[-122.438004,37.773067],[-122.437485,37.773132],[-122.437394,37.773143],[-122.436921,37.773204],[-122.435776,37.773349],[-122.434128,37.773559],[-122.432488,37.773769],[-122.43084,37.773979],[-122.429192,37.774185],[-122.429245,37.774456],[-122.429291,37.774654],[-122.429383,37.775119],[-122.429474,37.775585],[-122.429574,37.77605],[-122.429665,37.776515],[-122.429635,37.776565],[-122.429604,37.776615],[-122.429581,37.776668],[-122.429566,37.776721],[-122.429566,37.776775],[-122.429612,37.777004],[-122.429787,37.777854],[-122.429802,37.777935],[-122.429703,37.777946],[-122.428307,37.778125],[-122.426659,37.778331],[-122.425019,37.778541],[-122.423371,37.778751],[-122.423287,37.778327]],rideToStreet:[[-122.460419,37.764312],[-122.460663,37.764301],[-122.460976,37.764286],[-122.460976,37.764301],[-122.461045,37.765216],[-122.461106,37.76612],[-122.460923,37.766128],[-122.460412,37.766147],[-122.460274,37.766178],[-122.460206,37.766193],[-122.460137,37.766212],[-122.460068,37.766239],[-122.46,37.766273],[-122.459946,37.766304],[-122.459878,37.766349],[-122.459786,37.766429],[-122.459725,37.766475],[-122.459672,37.766529],[-122.45961,37.766624],[-122.459275,37.766883],[-122.459229,37.766925],[-122.459168,37.766967],[-122.459107,37.767009],[-122.459046,37.767047],[-122.458985,37.767059],[-122.458947,37.76707],[-122.458893,37.767089],[-122.458817,37.76712],[-122.458741,37.767147],[-122.458687,37.767166],[-122.458611,37.767189],[-122.458565,37.767208],[-122.458413,37.767253],[-122.458313,37.767288],[-122.458123,37.767372],[-122.456406,37.767875],[-122.455834,37.768047],[-122.455651,37.768074],[-122.455514,37.768108],[-122.455208,37.768199],[-122.455163,37.768215],[-122.455109,37.768238],[-122.455063,37.768268],[-122.45501,37.768321],[-122.454964,37.768371],[-122.454934,37.768428],[-122.454903,37.768486],[-122.454888,37.76855],[-122.45488,37.768611],[-122.454873,37.768669],[-122.454873,37.76873],[-122.454873,37.768795],[-122.454888,37.768882],[-122.45488,37.768947],[-122.45488,37.768993],[-122.454888,37.769039],[-122.454888,37.769088],[-122.454903,37.769157],[-122.454918,37.769218],[-122.454934,37.769287],[-122.454957,37.769355],[-122.454979,37.769424],[-122.45501,37.769496],[-122.455048,37.76958],[-122.455094,37.769672],[-122.455292,37.770053],[-122.455323,37.770118],[-122.455353,37.770191],[-122.455384,37.770263],[-122.455414,37.770336],[-122.455407,37.770416],[-122.455399,37.770469],[-122.455384,37.770526],[-122.455361,37.770576],[-122.455338,37.770622],[-122.455315,37.770671],[-122.455285,37.770717],[-122.455246,37.770759],[-122.455201,37.770805],[-122.455155,37.770843],[-122.455094,37.770885],[-122.455025,37.770927],[-122.454957,37.770965],[-122.454873,37.771011],[-122.454758,37.771064],[-122.454117,37.771327],[-122.453995,37.771377],[-122.453942,37.771392],[-122.453896,37.771404],[-122.45385,37.771415],[-122.453766,37.771427],[-122.453682,37.77143],[-122.453599,37.77143],[-122.453499,37.771423],[-122.4534,37.771411],[-122.452652,37.771286],[-122.452553,37.77127],[-122.452462,37.771263],[-122.452355,37.771259],[-122.452263,37.771263],[-122.452172,37.771274],[-122.450707,37.771461],[-122.450623,37.771472],[-122.450524,37.771484],[-122.450173,37.77153],[-122.448975,37.771682],[-122.448884,37.771694],[-122.447419,37.771881],[-122.447335,37.771892],[-122.447243,37.771903],[-122.446541,37.771991],[-122.446305,37.772022],[-122.445878,37.772075],[-122.44574,37.772094],[-122.445611,37.772109],[-122.444039,37.772312],[-122.443985,37.772315],[-122.442406,37.772518],[-122.442307,37.772529],[-122.441529,37.772628],[-122.440873,37.772712],[-122.440751,37.772724],[-122.440606,37.772735],[-122.43911,37.772926],[-122.438004,37.773067],[-122.437485,37.773132],[-122.437394,37.773143],[-122.436921,37.773204],[-122.435776,37.773349],[-122.434128,37.773559],[-122.432488,37.773769],[-122.43084,37.773979],[-122.429192,37.774185],[-122.427552,37.774394],[-122.425911,37.774604],[-122.424309,37.774806],[-122.42421,37.774822],[-122.424103,37.774833],[-122.424004,37.774848],[-122.42408,37.775215],[-122.424096,37.775314],[-122.424187,37.775783],[-122.42421,37.77589],[-122.424279,37.776195],[-122.424286,37.776245],[-122.422905,37.77642],[-122.421906,37.77655]],walkFromGarage:[[-122.423287,37.778327],[-122.423188,37.77782],[-122.423089,37.777355],[-122.422997,37.776885],[-122.422905,37.77642],[-122.422806,37.775959],[-122.421166,37.776168],[-122.420517,37.776252]],walkFromStreet:[[-122.421906,37.77655],[-122.42154,37.776596],[-122.421258,37.77663],[-122.421166,37.776168],[-122.420517,37.776252]]},scootTwo:{walkStart:[[-122.461998,37.763427],[-122.462037,37.764007],[-122.462052,37.764225],[-122.462052,37.764244],[-122.46312,37.76419],[-122.46312,37.764205],[-122.463166,37.764945]],rideToGarage:[[-122.463166,37.764945],[-122.463181,37.765121],[-122.46325,37.766014],[-122.463158,37.766017],[-122.462296,37.766067],[-122.462182,37.766075],[-122.462105,37.766078],[-122.461106,37.76612],[-122.460923,37.766128],[-122.460412,37.766147],[-122.460274,37.766178],[-122.460206,37.766193],[-122.460137,37.766212],[-122.460068,37.766239],[-122.46,37.766273],[-122.459946,37.766304],[-122.459878,37.766349],[-122.459786,37.766429],[-122.459725,37.766475],[-122.459672,37.766529],[-122.45961,37.766624],[-122.459275,37.766883],[-122.459229,37.766925],[-122.459168,37.766967],[-122.459107,37.767009],[-122.459046,37.767047],[-122.458985,37.767059],[-122.458947,37.76707],[-122.458893,37.767089],[-122.458817,37.76712],[-122.458741,37.767147],[-122.458687,37.767166],[-122.458611,37.767189],[-122.458565,37.767208],[-122.458413,37.767253],[-122.458313,37.767288],[-122.458123,37.767372],[-122.456406,37.767875],[-122.455834,37.768047],[-122.455651,37.768074],[-122.455514,37.768108],[-122.455208,37.768199],[-122.455163,37.768215],[-122.455109,37.768238],[-122.455063,37.768268],[-122.45501,37.768321],[-122.454964,37.768371],[-122.454934,37.768428],[-122.454903,37.768486],[-122.454888,37.76855],[-122.45488,37.768611],[-122.454873,37.768669],[-122.454873,37.76873],[-122.454873,37.768795],[-122.454888,37.768882],[-122.45488,37.768947],[-122.45488,37.768993],[-122.454888,37.769039],[-122.454888,37.769088],[-122.454903,37.769157],[-122.454918,37.769218],[-122.454934,37.769287],[-122.454957,37.769355],[-122.454979,37.769424],[-122.45501,37.769496],[-122.455048,37.76958],[-122.455094,37.769672],[-122.455292,37.770053],[-122.455323,37.770118],[-122.455353,37.770191],[-122.455384,37.770263],[-122.455414,37.770336],[-122.455407,37.770416],[-122.455399,37.770469],[-122.455384,37.770526],[-122.455361,37.770576],[-122.455338,37.770622],[-122.455315,37.770671],[-122.455285,37.770717],[-122.455246,37.770759],[-122.455201,37.770805],[-122.455155,37.770843],[-122.455094,37.770885],[-122.455025,37.770927],[-122.454957,37.770965],[-122.454873,37.771011],[-122.454758,37.771064],[-122.454117,37.771327],[-122.453995,37.771377],[-122.453942,37.771392],[-122.453896,37.771404],[-122.45385,37.771415],[-122.453766,37.771427],[-122.453682,37.77143],[-122.453599,37.77143],[-122.453499,37.771423],[-122.4534,37.771411],[-122.452652,37.771286],[-122.452553,37.77127],[-122.452462,37.771263],[-122.452355,37.771259],[-122.452263,37.771263],[-122.452172,37.771274],[-122.450707,37.771461],[-122.450623,37.771472],[-122.450524,37.771484],[-122.450173,37.77153],[-122.448975,37.771682],[-122.448884,37.771694],[-122.447419,37.771881],[-122.447335,37.771892],[-122.447243,37.771903],[-122.446541,37.771991],[-122.446305,37.772022],[-122.445878,37.772075],[-122.44574,37.772094],[-122.445611,37.772109],[-122.444039,37.772312],[-122.443985,37.772315],[-122.442406,37.772518],[-122.442307,37.772529],[-122.441529,37.772628],[-122.440873,37.772712],[-122.440751,37.772724],[-122.440606,37.772735],[-122.43911,37.772926],[-122.438004,37.773067],[-122.437485,37.773132],[-122.437394,37.773143],[-122.436921,37.773204],[-122.435776,37.773349],[-122.434128,37.773559],[-122.432488,37.773769],[-122.43084,37.773979],[-122.429192,37.774185],[-122.429245,37.774456],[-122.429291,37.774654],[-122.429383,37.775119],[-122.429474,37.775585],[-122.429574,37.77605],[-122.429665,37.776515],[-122.429635,37.776565],[-122.429604,37.776615],[-122.429581,37.776668],[-122.429566,37.776721],[-122.429566,37.776775],[-122.429612,37.777004],[-122.429787,37.777854],[-122.429802,37.777935],[-122.429703,37.777946],[-122.428307,37.778125],[-122.426659,37.778331],[-122.425019,37.778541],[-122.423371,37.778751],[-122.423287,37.778327]],rideToStreet:[[-122.463166,37.764945],[-122.463181,37.765121],[-122.46325,37.766014],[-122.463158,37.766017],[-122.462296,37.766067],[-122.462182,37.766075],[-122.462105,37.766078],[-122.461106,37.76612],[-122.460923,37.766128],[-122.460412,37.766147],[-122.460274,37.766178],[-122.460206,37.766193],[-122.460137,37.766212],[-122.460068,37.766239],[-122.46,37.766273],[-122.459946,37.766304],[-122.459878,37.766349],[-122.459786,37.766429],[-122.459725,37.766475],[-122.459672,37.766529],[-122.45961,37.766624],[-122.459275,37.766883],[-122.459229,37.766925],[-122.459168,37.766967],[-122.459107,37.767009],[-122.459046,37.767047],[-122.458985,37.767059],[-122.458947,37.76707],[-122.458893,37.767089],[-122.458817,37.76712],[-122.458741,37.767147],[-122.458687,37.767166],[-122.458611,37.767189],[-122.458565,37.767208],[-122.458413,37.767253],[-122.458313,37.767288],[-122.458123,37.767372],[-122.456406,37.767875],[-122.455834,37.768047],[-122.455651,37.768074],[-122.455514,37.768108],[-122.455208,37.768199],[-122.455163,37.768215],[-122.455109,37.768238],[-122.455063,37.768268],[-122.45501,37.768321],[-122.454964,37.768371],[-122.454934,37.768428],[-122.454903,37.768486],[-122.454888,37.76855],[-122.45488,37.768611],[-122.454873,37.768669],[-122.454873,37.76873],[-122.454873,37.768795],[-122.454888,37.768882],[-122.45488,37.768947],[-122.45488,37.768993],[-122.454888,37.769039],[-122.454888,37.769088],[-122.454903,37.769157],[-122.454918,37.769218],[-122.454934,37.769287],[-122.454957,37.769355],[-122.454979,37.769424],[-122.45501,37.769496],[-122.455048,37.76958],[-122.455094,37.769672],[-122.455292,37.770053],[-122.455323,37.770118],[-122.455353,37.770191],[-122.455384,37.770263],[-122.455414,37.770336],[-122.455407,37.770416],[-122.455399,37.770469],[-122.455384,37.770526],[-122.455361,37.770576],[-122.455338,37.770622],[-122.455315,37.770671],[-122.455285,37.770717],[-122.455246,37.770759],[-122.455201,37.770805],[-122.455155,37.770843],[-122.455094,37.770885],[-122.455025,37.770927],[-122.454957,37.770965],[-122.454873,37.771011],[-122.454758,37.771064],[-122.454117,37.771327],[-122.453995,37.771377],[-122.453942,37.771392],[-122.453896,37.771404],[-122.45385,37.771415],[-122.453766,37.771427],[-122.453682,37.77143],[-122.453599,37.77143],[-122.453499,37.771423],[-122.4534,37.771411],[-122.452652,37.771286],[-122.452553,37.77127],[-122.452462,37.771263],[-122.452355,37.771259],[-122.452263,37.771263],[-122.452172,37.771274],[-122.450707,37.771461],[-122.450623,37.771472],[-122.450524,37.771484],[-122.450173,37.77153],[-122.448975,37.771682],[-122.448884,37.771694],[-122.447419,37.771881],[-122.447335,37.771892],[-122.447243,37.771903],[-122.446541,37.771991],[-122.446305,37.772022],[-122.445878,37.772075],[-122.44574,37.772094],[-122.445611,37.772109],[-122.444039,37.772312],[-122.443985,37.772315],[-122.442406,37.772518],[-122.442307,37.772529],[-122.441529,37.772628],[-122.440873,37.772712],[-122.440751,37.772724],[-122.440606,37.772735],[-122.43911,37.772926],[-122.438004,37.773067],[-122.437485,37.773132],[-122.437394,37.773143],[-122.436921,37.773204],[-122.435776,37.773349],[-122.434128,37.773559],[-122.432488,37.773769],[-122.43084,37.773979],[-122.429192,37.774185],[-122.427552,37.774394],[-122.425911,37.774604],[-122.424309,37.774806],[-122.42421,37.774822],[-122.424103,37.774833],[-122.424004,37.774848],[-122.42408,37.775215],[-122.424096,37.775314],[-122.424187,37.775783],[-122.42421,37.77589],[-122.424279,37.776195],[-122.424286,37.776245],[-122.422905,37.77642],[-122.421906,37.77655]],walkFromGarage:[[-122.423287,37.778327],[-122.423188,37.77782],[-122.423089,37.777355],[-122.422997,37.776885],[-122.422905,37.77642],[-122.422806,37.775959],[-122.421166,37.776168],[-122.420517,37.776252]],walkFromStreet:[[-122.421906,37.77655],[-122.42154,37.776596],[-122.421258,37.77663],[-122.421166,37.776168],[-122.420517,37.776252]]},scootThree:{walkStart:[[-122.461998,37.763427],[-122.462037,37.764007],[-122.462052,37.764225],[-122.462052,37.764244],[-122.460976,37.764286],[-122.460663,37.764301],[-122.459908,37.764331],[-122.45887,37.764377],[-122.45884,37.764381],[-122.458603,37.764389],[-122.458085,37.764411],[-122.457985,37.764419],[-122.457932,37.764423],[-122.457886,37.764427],[-122.457848,37.764446],[-122.45781,37.764476],[-122.457787,37.764514],[-122.457764,37.764556],[-122.457734,37.764629],[-122.457726,37.764659],[-122.457726,37.764686],[-122.457734,37.76482],[-122.456772,37.764942],[-122.456368,37.764991],[-122.455422,37.765113]],rideToGarage:[[-122.455422,37.765113],[-122.454422,37.765239],[-122.452775,37.765449],[-122.452469,37.765487],[-122.451417,37.765621],[-122.450196,37.765777],[-122.449975,37.765804],[-122.449624,37.76585],[-122.449387,37.76588],[-122.449196,37.766063],[-122.449074,37.766178],[-122.448922,37.766284],[-122.448754,37.766349],[-122.448639,37.766372],[-122.448555,37.766414],[-122.44854,37.766475],[-122.448296,37.766471],[-122.448159,37.766445],[-122.447999,37.766433],[-122.447968,37.766391],[-122.447907,37.766399],[-122.447922,37.766479],[-122.448029,37.767009],[-122.447213,37.767112],[-122.446389,37.767215],[-122.445565,37.767322],[-122.444748,37.767425],[-122.443863,37.767539],[-122.443726,37.767559],[-122.443444,37.768402],[-122.443352,37.768672],[-122.443329,37.768733],[-122.443306,37.768787],[-122.443268,37.76884],[-122.443215,37.768886],[-122.443162,37.768924],[-122.443123,37.768947],[-122.442872,37.769104],[-122.442399,37.769409],[-122.442315,37.769424],[-122.442254,37.769451],[-122.442215,37.769493],[-122.442177,37.769557],[-122.442154,37.769634],[-122.442139,37.769687],[-122.442093,37.769744],[-122.44204,37.769798],[-122.441956,37.769874],[-122.441811,37.769897],[-122.441689,37.769924],[-122.441529,37.769973],[-122.44133,37.770038],[-122.44117,37.770046],[-122.441002,37.770099],[-122.44088,37.770164],[-122.44085,37.770313],[-122.440774,37.770446],[-122.440735,37.770561],[-122.440674,37.770606],[-122.440613,37.770629],[-122.440568,37.770633],[-122.440537,37.770709],[-122.440362,37.770854],[-122.440392,37.770931],[-122.44056,37.771785],[-122.440735,37.772636],[-122.440751,37.772724],[-122.440774,37.772834],[-122.440781,37.772853],[-122.440804,37.772979],[-122.440918,37.773544],[-122.440934,37.773639],[-122.440789,37.77367],[-122.440545,37.7737],[-122.4403,37.773731],[-122.439301,37.77386],[-122.438996,37.773899],[-122.438141,37.774005],[-122.437676,37.774066],[-122.437584,37.774078],[-122.437249,37.77412],[-122.435959,37.774284],[-122.434319,37.774494],[-122.432679,37.774703],[-122.431031,37.774913],[-122.429383,37.775119],[-122.427743,37.775329],[-122.426102,37.775539],[-122.4245,37.775741],[-122.424347,37.775764],[-122.424187,37.775783],[-122.422806,37.775959],[-122.422905,37.77642],[-122.422997,37.776885],[-122.423089,37.777355],[-122.423188,37.77782],[-122.423287,37.778327]],walkFromGarage:[[-122.423287,37.778327],[-122.423188,37.77782],[-122.423089,37.777355],[-122.422997,37.776885],[-122.422905,37.77642],[-122.422806,37.775959],[-122.421166,37.776168],[-122.420517,37.776252]]}};$(window).on("load",function(){streetParkingOption=$("#spo");var e='<article class="parking-options-item"> <span id="option-2" class="btn">Park on the street</span> <h1>Extra $1</h1> </article>',t=$(".options-bottom"),a=$("#destination"),o=$(".drawer-top-bar"),r=$(".options-list"),i=$(".parking-options-list"),n=$(".steps-col"),s=$("#step2-helper"),p=$(".steps-container"),c=$("#back-btn");c.fadeOut(0);var l=new CountUp("est-cost",cost,cost,2,1,re);markersOnMap={walkingStart:!1,scootPin:!1,ridePath:!1,garage:!1,garageText:!1,walkingEnd:!1,streetParkPin:!1,streetParkCircle:!1,streetParkText:!1,finalDest:!1,finalDestText:!1},appState="map",mapboxgl.accessToken="pk.eyJ1Ijoic2Nvb3R0ZWNoIiwiYSI6IlBMTjNqVTgifQ.r8a_cZRmGF_GIOKIKaK1dA";var d=new mapboxgl.Map({container:"map",style:"mapbox://styles/scoottech/cj1ntr678001m2rqnl9flpo60",center:[-122.462008,37.763429],zoom:14,scrollZoom:!0});d.touchZoomRotate.disableRotation(),d.on("load",function(){d.addLayer({id:"route",type:"symbol",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[-122.462008,37.763429]},properties:{}}]}},layout:{"icon-image":"gps","icon-size":{stops:[[12,.2],[18,1]]}}}),setTimeout(function(){$("#splash").fadeOut(500)},500),J("pickupScoot",0,"start"),i.fadeOut(0)}),d.on("resize",function(){console.log("map RESIZED")});var g=function(){d.setLayoutProperty("Garages WITH Scoots","icon-image","parking-inactive"),d.setPaintProperty("New Scoots","icon-opacity",0),d.setPaintProperty("Classics","icon-opacity",0),d.setPaintProperty("Cargos","icon-opacity",0)},u=function(){d.setLayoutProperty("Garages WITH Scoots","icon-image","pickup-inactive"),d.setPaintProperty("New Scoots","icon-opacity",1),d.setPaintProperty("Classics","icon-opacity",1),d.setPaintProperty("Cargos","icon-opacity",1)};d.on("click",function(e){var t=[e.point.x,e.point.y],a=d.queryRenderedFeatures(t);if(a.length>0){var o=a[0].layer.id;console.log("ID: "+o),console.log(a[0].geometry.coordinates)}}),r.flickity({cellSelector:".option-item",cellAlign:"left",contain:!0,prevNextButtons:!1,resize:!1}),i.flickity({cellSelector:".parking-options-item",cellAlign:"left",contain:!0,prevNextButtons:!1,resize:!1}),$("#sr").click(function(){r.flickity("next")}),$("#sl").click(function(){r.flickity("previous")}),$("#pr").click(function(){i.flickity("next")}),$("#pl").click(function(){i.flickity("previous")}),parkingData=i.data("flickity");var k=r.data("flickity"),f=!0,h=$(".options-header"),m=function(e){0===e?($("#sr").removeClass("disabled"),$("#sl").addClass("disabled")):1===e?($("#sr").removeClass("disabled"),$("#sl").removeClass("disabled")):($("#sr").addClass("disabled"),$("#sl").removeClass("disabled"))},y=function(e){0===e?($("#pr").removeClass("disabled"),$("#pl").addClass("disabled")):($("#pr").addClass("disabled"),$("#pl").removeClass("disabled"))};r.on("select.flickity",function(){var e=k.selectedIndex;m(e),J("pickupScoot",e,tripObj.destText),2===e?(l.update(2),cost=2):(l.update(3),cost=3)});var v=!1;r.on("dragMove.flickity",function(){!1===v&&(v=!0)}),r.on("settle.flickity",function(){v=!1});var O=!1;i.on("dragMove.flickity",function(){!1===O&&(O=!0)}),i.on("settle.flickity",function(){O=!1});var w=$(".steps-col-2 h2");i.on("select.flickity",function(e,t){console.log("this works: ",parkingData.selectedIndex),y(parkingData.selectedIndex),0===parkingData.selectedIndex?("three"===routeShapes.choice?l.update(2):l.update(3),setTimeout(function(){w.velocity("callout.pulse")},700),d.flyTo({center:[tripObj.groveGough[0]+.002,tripObj.groveGough[1]-.002],speed:1,zoom:15})):(l.update(4),setTimeout(function(){w.velocity("callout.pulse")},700),d.flyTo({center:tripObj.end.parkingByRickshaw,speed:1,zoom:15})),console.log(e),console.log(t),J("parking",parkingData.selectedIndex)}),tripObj={gps:[-122.462008,37.763429],start:{LngLat:[[-122.46041536331177,37.76435174190689],[-122.46319144964218,37.76494756721861],[-122.45542109012604,37.76511719632279]]},destText:void 0,tripOptions:{},rickshaw:[-122.420511,37.776231],groveGough:[-122.42340087890625,37.7783131479967],theSpot:[-122.43988037109375,37.7783131479967],end:{LngLat:[-122.436636,37.77514],parkingByRickshaw:[-122.421909,37.776544]}};var S=$(".scoot-options-container"),b=$(".options-top"),x=!1;b.fadeOut(0),$(".desination-container").click(function(){x||"done"===appState||($(this).hasClass("desination-container")?$(this).find("input").val("").attr("placeholder","Enter a destination").focus():$(this).find("input").val("").attr("placeholder","Enter your location").focus(),tripObj.status="searching",$("#map").addClass("full"),setTimeout(function(){$(window).scrollTop(0)},250))});var T=$(".search-results-container");T.fadeOut(0);var j=function(e){T.fadeIn(300),T.children().remove();for(var t=[],a=0;a<e.features.length;a++){var o=e.features[a],r=o.properties.layer,i=o.properties.name,n=o.properties.street,s=o.properties.locality,p=o.properties.region_a,c=o.geometry.coordinates;t.push(c),"venue"===r?void 0===n?T.append('<div class="result-item"><i class="icon ion-location"></i><div class="result-area"><strong>'+i+"</strong><span>"+s+", "+p+"</span></div></div>"):T.append('<div class="result-item"><i class="icon ion-location"></i><div class="result-area"><strong>'+i+", "+n+"</strong><span>"+s+", "+p+"</span></div></div>"):T.append('<div class="result-item"><i class="icon ion-location"></i><div class="result-area"><strong>'+i+"</strong><span>"+s+", "+p+"</span></div></div>")}tripObj.tripOptions=t},P=function(){var e=$("#destination").val();$.getJSON("https://search.mapzen.com/v1/search/?api_key=mapzen-jQ1cw6W&boundary.rect.min_lat=37.737598&boundary.rect.min_lon=-122.516613&boundary.rect.max_lat=37.813717&boundary.rect.max_lon=-122.369156&text="+e+"&size=2&boundary.country=USA&layers=venue,address",function(e,t,a){a&&a.status&&j(e)})},L;a.on("keydown",_.debounce(P,250));var M=$("#loader"),G=function(){M.fadeIn(300),g(),setTimeout(function(){M.fadeOut(300),d.flyTo({center:[tripObj.groveGough[0]+.002,tripObj.groveGough[1]-.002],zoom:15,speed:.8,curve:2}),K(3),i.fadeIn(300),$(".options-top").fadeOut(300)},4e3)};$(".search-results-container").on("click",".result-item",function(){appStep=3,x=!0,$("#destination").prop("disabled",!0);var e=$(this).index();lngLatChoice=tripObj.tripOptions[e],tripObj.theSpot=lngLatChoice;var t=$(this).find("strong").text();$("#destination").blur(),$("#destination").val(t),$("#destination").text(t),console.log(t),tripObj.destText=t.split(",")[0],appState="pickup",T.fadeOut(300),s.fadeOut(0),J("parking",0),R("trip-overview"),G()});var I,z={stops:[[12,4],[18,10]]},C=function(e,t,a){if(void 0===a&&(a=1),"destination-pin"===e)var o="finale",r="symbol",i={},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={"icon-size":{stops:[[12,.4],[16,1]]},"icon-image":"pin"};else if("street-parking-marker"===e)var o="sp-marker",r="symbol",i={},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={"icon-size":{stops:[[12,.4],[16,1]]},"icon-image":"parking-marker"};else if("garageText"===e)var o="garageText",r="symbol",i={"text-opacity":{stops:[[13.9,0],[14,1]]},"text-color":"#1a64a5"},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={"text-field":"Grove Garage","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":10,"text-transform":"uppercase","text-letter-spacing":.05,"text-offset":[3,0],"text-justify":"left","text-anchor":"left"};else if("destText"===e)var o="finaleText",r="symbol",i={"text-opacity":{stops:[[13.9,0],[14,1]]},"text-color":"#333"},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={"text-field":"155 Fell Street ("+a+" min walk)","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":10,"text-max-width":8,"text-transform":"uppercase","text-letter-spacing":.05,"text-offset":[2,0],"text-justify":"left","text-anchor":"left"};else if("destination-sp-text"===e)var o="destination-sp-text",r="symbol",i={"text-color":"#1a64a5","text-opacity":{stops:[[13.9,0],[14,1]]}},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={"text-field":"PARK IN THIS AREA","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":10,"text-transform":"uppercase","text-letter-spacing":.05,"text-offset":[0,3]};else if("destination-circle"===e)var o="destination-circle",r="circle",i={"circle-radius":{stops:[[11,10],[16,100],[18,250],[20,500]]},"circle-color":"#0073ff","circle-stroke-width":{stops:[[12,0],[13,1]]},"circle-stroke-color":"#228deb","circle-opacity":.08},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={};else if("scooter-pin"===e)var o="scooter-pin",r="symbol",i={},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={"icon-size":{stops:[[12,.3],[16,.7]]},"icon-image":"active-scoot"};else if("destination-garage"===e)var o="destination-garage",r="symbol",i={},n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"Point",coordinates:t}}},s={"icon-size":{stops:[[12,.5],[15,1]]},"icon-image":"parking-active"};d.addLayer({id:o,type:r,source:n,layout:s,paint:i})},D=function(e,t){var a,o,r,i,n,s,p;o=.7,"ride"===e?(r=[1,0],a="#08baba",i="ride-route",p="line",I={"line-join":"round","line-cap":"round"},s={"line-color":a,"line-opacity":o,"line-dasharray":r,"line-width":z}):"walking1"===e||"walking2"===e?(p="line",a="#888",r={stops:[[14,[1,0]],[14.2,[1,2]]]},I={"line-join":"round","line-cap":"round"},s={"line-color":a,"line-opacity":o,"line-dasharray":r,"line-width":z},i="walking1"===e?"walking-start-path":"walking-end-path"):"walking-icon1"!==e&&"walking-icon2"!==e||(p="symbol",i="walking-icon1"===e?"walking-icon-line1":"walking-icon-line2",I={"icon-image":"walking-icon","icon-size":{stops:[[14,.1],[16,.4]]},"symbol-placement":"line","symbol-spacing":{stops:[[14,20],[16,50]]},"icon-rotation-alignment":"viewport"},s={"icon-opacity":{stops:[[14,0],[16,1]]}}),n={type:"geojson",data:{type:"Feature",properties:{},geometry:{type:"LineString",coordinates:t}}},d.addLayer({id:i,type:p,source:n,layout:I,paint:s},"OB")},F=function(e,t){for(var a=0,o=0,r=0,i=[],n=0,s=0,p=null,c,l,d=Math.pow(10,t||6);a<e.length;){p=null,n=0,s=0;do{p=e.charCodeAt(a++)-63,s|=(31&p)<<n,n+=5}while(p>=32);c=1&s?~(s>>1):s>>1,n=s=0;do{p=e.charCodeAt(a++)-63,s|=(31&p)<<n,n+=5}while(p>=32);l=1&s?~(s>>1):s>>1,o+=c,r+=l,i.push([r/d,o/d])}return i},B=function(e,t){var a=t.lat1,o=t.lon1,r=t.lat2,i=t.lon2;"walking1"===e||"walking2"===e||"walking-icon1"===e||"walking-icon2"===e?$.getJSON('https://valhalla.mapzen.com/route?json={"locations":[{"lat":'+a+',"lon":'+o+'},{"lat":'+r+',"lon":'+i+'}],"costing":"pedestrian","costing_options":{"transit":{"use_bus":"1.0","use_rail":"0.0","use_transfers":"0.3"},"pedestrian":{"walking_speed":"4.1"}}}&api_key=mapzen-jQ1cw6W',function(t,a,o){if(o&&o.status){var r=t.trip.legs[0].shape,i=F(r);D(i,e)}}):$.getJSON('https://valhalla.mapzen.com/route?json={"locations":[{"lat":'+a+',"lon":'+o+'},{"lat":'+r+',"lon":'+i+'}],"costing":"auto","costing_options":{"maneuver_penalty":30}}&api_key=mapzen-jQ1cw6W',function(t,a,o){if(o&&o.status){var r=t.trip.legs[0].shape,i=F(r);D(i,e)}})},R=function(e,t,a){var o,r,i,n;if("pickup"===e||"pickupScoot"===e)var s=tripObj.gps,p=tripObj.start.LngLat[t];else if("trip-overview"===e)var s=tripObj.gps,p=tripObj.rickshaw;if(s[0]>p[0])var n=p[0],r=s[0];else var r=p[0],n=s[0];if(s[1]>p[1])var i=p[1],o=s[1];else var o=p[1],i=s[1];var c=[[n,i],[r,o]];"pickup"===e||"pickupScoot"===e?d.fitBounds(c,{padding:{top:200,bottom:200,left:60,right:60},speed:1}):"trip-overview"===e&&d.fitBounds(c,{padding:{top:100,bottom:150,left:40,right:40},speed:1})},A=function(){markersOnMap.walkingStart&&(d.removeLayer("walking-start-path"),d.removeSource("walking-start-path")),markersOnMap.walkingEnd&&(d.removeLayer("walking-end-path"),d.removeSource("walking-end-path")),markersOnMap.ridePath&&(d.removeLayer("ride-route"),d.removeSource("ride-route")),markersOnMap.scootPin&&(d.removeLayer("scooter-pin"),d.removeSource("scooter-pin")),markersOnMap.garage&&(d.removeLayer("destination-garage"),d.removeSource("destination-garage")),markersOnMap.garageText&&(d.removeLayer("garageText"),d.removeSource("garageText")),markersOnMap.finalDest&&(d.removeLayer("finale"),d.removeSource("finale")),markersOnMap.finalDestText&&(d.removeLayer("finaleText"),d.removeSource("finaleText")),markersOnMap.streetParkCircle&&(d.removeLayer("destination-circle"),d.removeSource("destination-circle")),markersOnMap.streetParkPin&&(d.removeLayer("sp-marker"),d.removeSource("sp-marker")),markersOnMap.streetParkText&&(d.removeLayer("destination-sp-text"),d.removeSource("destination-sp-text"))},N=function(e,t){console.log("process pickup scoot");var a=[tripObj.start.LngLat[e][0],tripObj.start.LngLat[e][1]];A(),markersOnMap.walkingStart=!0,markersOnMap.walkingEnd=!1,markersOnMap.ridePath=!1,markersOnMap.scootPin=!0,markersOnMap.garage=!1,markersOnMap.garageText=!1,markersOnMap.finalDest=!1,markersOnMap.finalDestText=!1,
markersOnMap.streetParkCircle=!1,markersOnMap.streetParkPin=!1,markersOnMap.streetParkText=!1,0===e?(D("walking1",routeShapes.scootOne.walkStart),C("scooter-pin",tripObj.start.LngLat[e]),routeShapes.choice="one"):1==e?(D("walking1",routeShapes.scootTwo.walkStart),C("scooter-pin",tripObj.start.LngLat[e]),routeShapes.choice="two"):(D("walking1",routeShapes.scootThree.walkStart),C("scooter-pin",tripObj.start.LngLat[e]),routeShapes.choice="three")},E=function(e,t){g();var a=[tripObj.start.LngLat[e][0],tripObj.start.LngLat[e][1]];A(),markersOnMap.walkingStart=!0,markersOnMap.walkingEnd=!0,markersOnMap.ridePath=!0,markersOnMap.scootPin=!0,markersOnMap.garage=!0,markersOnMap.garageText=!0,markersOnMap.finalDest=!0,markersOnMap.finalDestText=!0,0===e?(D("walking1",routeShapes.scootOne.walkStart),D("ride",routeShapes.scootOne.rideToGarage),D("walking2",routeShapes.scootOne.walkFromGarage),C("scooter-pin",tripObj.start.LngLat[e]),C("destination-garage",tripObj.groveGough),C("garageText",tripObj.groveGough),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,3),routeShapes.choice="one"):1===e?(D("walking1",routeShapes.scootTwo.walkStart),D("ride",routeShapes.scootTwo.rideToGarage),D("walking2",routeShapes.scootTwo.walkFromGarage),C("scooter-pin",tripObj.start.LngLat[e]),C("destination-garage",tripObj.groveGough),C("garageText",tripObj.groveGough),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,3),routeShapes.choice="two"):(console.log("draw here"),D("walking1",routeShapes.scootThree.walkStart),D("ride",routeShapes.scootThree.rideToGarage),D("walking2",routeShapes.scootThree.walkFromGarage),C("scooter-pin",tripObj.start.LngLat[e]),C("destination-garage",tripObj.groveGough),C("garageText",tripObj.groveGough),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,3),routeShapes.choice="three")},W=function(e,t){if(console.log("run process parking"),A(),markersOnMap.walkingStart=!0,markersOnMap.walkingEnd=!0,markersOnMap.ridePath=!0,markersOnMap.scootPin=!0,markersOnMap.finalDestText=!0,markersOnMap.garage=1!==e,markersOnMap.finalDest=!0,console.log("this is the val: "+e),1===e?(markersOnMap.streetParkPin=!0,markersOnMap.streetParkCircle=!0,markersOnMap.streetParkText=!0,markersOnMap.garageText=!1):(markersOnMap.streetParkCircle=!1,markersOnMap.streetParkPin=!1,markersOnMap.streetParkText=!1,markersOnMap.garageText=!0),"one"===routeShapes.choice){if(1===e?(D("walking1",routeShapes.scootOne.walkStart),D("ride",routeShapes.scootOne.rideToStreet),D("walking2",routeShapes.scootOne.walkFromStreet),C("scooter-pin",tripObj.start.LngLat[0]),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,1),C("destination-circle",tripObj.end.parkingByRickshaw),C("street-parking-marker",tripObj.end.parkingByRickshaw),C("destination-sp-text",tripObj.end.parkingByRickshaw)):(D("walking1",routeShapes.scootOne.walkStart),D("ride",routeShapes.scootOne.rideToGarage),D("walking2",routeShapes.scootOne.walkFromGarage),C("scooter-pin",tripObj.start.LngLat[0]),C("destination-garage",tripObj.groveGough),C("garageText",tripObj.groveGough),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,3)),parkingDestroyed){var a=$(".parking-options-list").find(".scoots"),o=$(".parking-options-list").find(".flickity-page-dots");streetParkingOption.fadeIn(0),o.fadeIn(0),a.fadeIn(0),setTimeout(function(){console.log("new flicker 1"),i.flickity({cellSelector:".parking-options-item",setGallerySize:!1,prevNextButtons:!1}),parkingData=i.data("flickity"),setTimeout(function(){console.log("resizwe"),i.flickity("resize"),i.flickity("reposition")},1e3)},5550),parkingDestroyed=!1}}else if("two"===routeShapes.choice){if(1===e?(D("walking1",routeShapes.scootTwo.walkStart),D("ride",routeShapes.scootTwo.rideToStreet),D("walking2",routeShapes.scootTwo.walkFromStreet),C("scooter-pin",tripObj.start.LngLat[1]),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,1),C("destination-circle",tripObj.end.parkingByRickshaw),C("street-parking-marker",tripObj.end.parkingByRickshaw),C("destination-sp-text",tripObj.end.parkingByRickshaw)):(D("walking1",routeShapes.scootTwo.walkStart),D("ride",routeShapes.scootTwo.rideToGarage),D("walking2",routeShapes.scootTwo.walkFromGarage),C("scooter-pin",tripObj.start.LngLat[1]),C("destination-garage",tripObj.groveGough),C("garageText",tripObj.groveGough),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,3)),parkingDestroyed){var a=$(".parking-options-list").find(".scoots"),o=$(".parking-options-list").find(".flickity-page-dots");streetParkingOption.fadeIn(0),o.fadeIn(0),a.fadeIn(0),setTimeout(function(){console.log("new flicker 2"),i.flickity({cellSelector:".parking-options-item",setGallerySize:!1,prevNextButtons:!1}),parkingData=i.data("flickity"),setTimeout(function(){console.log("resizwe"),i.flickity("resize"),i.flickity("reposition")},1e3)},5550),parkingDestroyed=!1}}else if("three"===routeShapes.choice){console.log("this is the third choice"),markersOnMap.streetParkCircle=!1,markersOnMap.streetParkPin=!1,markersOnMap.streetParkText=!1,D("walking1",routeShapes.scootThree.walkStart),D("ride",routeShapes.scootThree.rideToGarage),D("walking2",routeShapes.scootThree.walkFromGarage),C("scooter-pin",tripObj.start.LngLat[2]),C("destination-garage",tripObj.groveGough),C("garageText",tripObj.groveGough),C("destination-pin",tripObj.rickshaw),C("destText",tripObj.rickshaw,3);var a=$(".parking-options-list").find(".scoots"),o=$(".parking-options-list").find(".flickity-page-dots");i.flickity("destroy"),streetParkingOption.fadeOut(0),o.fadeOut(0),a.fadeOut(0),parkingDestroyed=!0}},U=function(e,t,a){"pickup"===e?E(t,a):"parking"===e?W(t,a):"pickupScoot"===e&&N(t,a)},J=function(e,t,a){("pickup"===e||"pickupScoot"===e&&"start"!==a)&&R(e,t,1e3),U(e,t,a)},Q=$(".steps-col-1 span em"),Z=$(".steps-col-2 h1"),q=$(".steps-col-1 span"),K=function(e){1===e&&(console.log("ok back again"),appStep=1,Q.text("1"),Z.text("Choose your scoot"),q.css({"border-color":red,color:red})),2===e&&(Q.text("2"),Z.text("Enter Destination"),q.css({"border-color":blue,color:blue}),appStep=2),3===e&&(Q.text("3"),Z.text("Choose Parking"),q.css({"border-color":blue,color:blue}),n.velocity("callout.pulse"),appStep=3),4===e&&(Q.text("4"),Z.text("Start your ride"),q.css({"border-color":red,color:red}),n.velocity("callout.pulse"),appStep=4)};$(".reserve-btn").click(function(){a.focus(),v||(c.fadeIn(0),appStep=2,"none"===routeShapes.choice?(routeShapes.choice="one",J("pickupScoot",0,1e3),r.fadeOut(0),setTimeout(function(){b.velocity("transition.bounceDownIn"),K(2),setTimeout(function(){n.velocity("callout.pulse")},300)},1200)):(r.fadeOut(0),b.velocity("transition.bounceDownIn"),K(2),setTimeout(function(){n.velocity("callout.pulse")},300)),"one"===routeShapes.choice?$(".context.location").val("Scoot #512 (Parked on Irving St)"):"two"===routeShapes.choice?$(".context.location").val("Scoot #1108 (Parked on 6th Ave)"):$(".context.location").val("Scoot #917 (Parked on Carl St)"),s.fadeIn(500))});var H=$("#log");$("#test").click(function(){var e=tripObj.start.LngLat[2][1],t=tripObj.start.LngLat[2][0],a=tripObj.groveGough[1],o=tripObj.groveGough[0];$.getJSON('https://valhalla.mapzen.com/route?json={"locations":[{"lat":'+e+',"lon":'+t+'},{"lat":'+a+',"lon":'+o+'}],"costing":"pedestrian","costing_options":{"transit":{"use_bus":"1.0","use_rail":"0.0","use_transfers":"0.3"},"pedestrian":{"walking_speed":"4.1"}}}&api_key=mapzen-jQ1cw6W',function(e,t,a){if(a&&a.status)for(var o=e.trip.legs[0].shape,r=F(o),i=0;i<r.length;i++)H.append("<p>["+r[i][0]+","+r[i][1]+"],</p>")})});var Y=$(".ride-mode");Y.fadeOut(0);var V=$(".dest .context"),X=$(".dest .description span"),ee=$("#scoot-number"),te=$("#rr"),ae=$("#rm-battery"),oe=function(e){p.fadeOut(0);var t=moment().add(15,"m").format("LT");$("#time").text(t),"option-2"===e?(V.text("Park on the street"),X.text("Street Parking")):(V.text("Grove Garage"),X.text("Garage Parking")),"one"===routeShapes.choice?(ee.text("512"),te.text("18"),ae.css("color","#10d410")):"two"===routeShapes.choice?(ee.text("1108"),te.text("12"),ae.css("color","#10d410")):(ee.text("917"),te.text("4"),ae.css("color","#fc0")),$("#destination").prop("disabled",!0),appState="done",Y.fadeIn(500),R("trip-overview",0,1e3),setTimeout(function(){K(4)},500)};$("#option-1, #option-2").click(function(){if(!O){var e=$(this).attr("id");oe(e)}});var re={useEasing:!1,useGrouping:!0,decimal:".",prefix:"",suffix:""};$(".turn-on-btn").click(function(){window.alert("You've finished! Please answer the follow up questionsâ€”Thank you!")}),c.click(function(){2===appStep?(c.fadeOut(0),b.velocity("transition.bounceUpOut"),s.fadeOut(300,function(){K(1),r.fadeIn(300)}),appStep=1):3===appStep&&(K(2),u(),d.flyTo({center:tripObj.gps,speed:1,zoom:15}),M.fadeOut(300),$("#destination").prop("disabled",!1),$("#destination").val(""),$("#destination").attr("placeholder","Choose a destination"),$("#destination").text(""),i.fadeOut(300,function(){b.velocity("transition.bounceDownIn"),s.fadeIn(300)}))})});